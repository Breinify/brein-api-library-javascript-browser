(()=>{if("object"==typeof Breinify&&!Breinify.plugins._isAdded("uiSurvey")){let o="br-ui-survey",n=Breinify.UTL._jquery();class l extends HTMLElement{$shadowRoot=null;settings=null;uuid=null;constructor(){super(),this.attachShadow({mode:"open"}),this.uuid=null,this.$shadowRoot=n(this.shadowRoot),this.settings={}}_ensureBaseStyle(){var e="br-ui-survey-style";0<this.$shadowRoot.find("#"+e).length||this.$shadowRoot.append(n(`<style id="${e}">
                :host {
                    display: block;
                    box-sizing: border-box;
                    font-family: inherit;
                    color: inherit;
                }
            
                *, *::before, *::after { box-sizing: border-box; }
            
                .br-ui-survey-root { width: 100%; }
                .br-ui-survey-container { width: 100%; }
                .br-ui-survey-hidden { display: none !important; }
            
                /* -------------------------------------------------- */
                /* Trigger banner styling (desktop + mobile)          */
                /* -------------------------------------------------- */
                .br-ui-survey-trigger {
                    display: inline-block;
                    cursor: pointer;
                    width: 100%;
                    max-width: 600px;
                }
            
                .br-ui-survey-trigger img {
                    display: block;
                    width: 100%;
                    height: auto;
                    border: 0;
                }
            
                .br-ui-survey-trigger__img--desktop { display: block; }
                .br-ui-survey-trigger__img--mobile { display: none; }
            
                @media (max-width: 600px) {
                    .br-ui-survey-trigger__img--desktop { display: none; }
                    .br-ui-survey-trigger__img--mobile { display: block; }
                }
            </style>`))}_createTrigger(){var e=this.settings&&this.settings.trigger||{},i=e.bannerUrl,e=e.mobileBannerUrl||i,t=n("<div/>",{class:"br-ui-survey-trigger",role:"button",tabindex:0,"aria-label":"Start survey"}),i=(i&&t.append(n("<img/>").addClass("br-ui-survey-trigger__img--desktop").attr("src",i).attr("alt","Start survey")),e&&t.append(n("<img/>").addClass("br-ui-survey-trigger__img--mobile").attr("src",e).attr("alt","Start survey")),e=>{"click"!==e.type&&"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this._openSurvey())});return t.on("click",i),t.on("keydown",i),t}_openSurvey(){console.log("Survey trigger clicked:",this.uuid)}render(e,i){this.settings=i,this.uuid=e,this.$shadowRoot.empty(),this._ensureBaseStyle(),Breinify.plugins.webExperiences.style(this.settings,this.$shadowRoot);var i=n('<div class="br-ui-survey-root"></div>'),t=this._createTrigger();i.append(t),this.$shadowRoot.append(i),console.log(e),console.log(this.settings),console.log(JSON.stringify(this.settings))}}Breinify.plugins._add("uiSurvey",{register:function(e,i,t){window.customElements.get(o)||window.customElements.define(o,l);var r="br-survey-"+i;let s=n("#"+r);0===s.length&&(s=n("<"+o+"/>").attr("id",r),!1===Breinify.plugins.webExperiences.attach(t,s))||s.get(0).render(i,t)}})}})();