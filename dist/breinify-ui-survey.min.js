(()=>{if("object"==typeof Breinify&&!Breinify.plugins._isAdded("uiSurvey")){let o="br-ui-survey",n=Breinify.UTL._jquery();class u extends HTMLElement{$shadowRoot=null;settings=null;uuid=null;constructor(){super(),this.attachShadow({mode:"open"}),this.uuid=null,this.$shadowRoot=n(this.shadowRoot),this.settings={}}_ensureBaseStyle(){var e="br-ui-survey-style";0<this.$shadowRoot.find("#"+e).length||this.$shadowRoot.append(n(`<style id="${e}">
                :host {
                    display: block;
                    box-sizing: border-box;
                    font-family: inherit;
                    color: inherit;
                }
            
                *, *::before, *::after { box-sizing: border-box; }
            
                .br-ui-survey-root { width: 100%; }
                .br-ui-survey-container { width: 100%; }
                .br-ui-survey-hidden { display: none !important; }
            
                /* -------------------------------------------------- */
                /* Trigger banner styling (desktop + mobile)          */
                /* -------------------------------------------------- */
                .br-ui-survey-trigger {
                    display: inline-block;
                    cursor: pointer;
                    width: 100%;
                }
            
                .br-ui-survey-trigger-image { width: 100%; height: auto; border: 0; }
                .br-ui-survey-trigger-image.br-ui-survey-desktop { display: block; }
                .br-ui-survey-trigger-image.br-ui-survey-mobile { display: none; }
            
                @media (max-width: 600px) {
                    .br-ui-survey-trigger-image.br-ui-survey-desktop { display: none; }
                    .br-ui-survey-trigger-image.br-ui-survey-mobile { display: block; }
                }
            </style>`))}_createTrigger(){var e=this.settings&&this.settings.trigger||{},i=e.bannerUrl,e=e.mobileBannerUrl||i,r=n("<div/>",{class:"br-ui-survey-trigger",role:"button",tabindex:0,"aria-label":"Start survey"});return i&&r.append(n('<img src="'+i+'" class="br-ui-survey-trigger-image" alt="Start survey"/>').addClass("br-ui-survey-desktop")),e&&r.append(n('<img src="'+e+'" class="br-ui-survey-trigger-image" alt="Start survey"/>').addClass("br-ui-survey-mobile")),r.on("click",e=>{e.preventDefault(),this._openSurvey()}),r}_openSurvey(){console.log("Survey trigger clicked:",this.uuid)}render(e,i){this.settings=i,this.uuid=e,this.$shadowRoot.empty(),this._ensureBaseStyle(),Breinify.plugins.webExperiences.style(this.settings,this.$shadowRoot);var i=n('<div class="br-ui-survey-root"></div>'),r=this._createTrigger();i.append(r),this.$shadowRoot.append(i),console.log(e),console.log(this.settings),console.log(JSON.stringify(this.settings))}}Breinify.plugins._add("uiSurvey",{register:function(e,i,r){window.customElements.get(o)||window.customElements.define(o,u);var s="br-survey-"+i;let t=n("#"+s);0===t.length&&(t=n("<"+o+"/>").attr("id",s),!1===Breinify.plugins.webExperiences.attach(r,t))||t.get(0).render(i,r)}})}})();