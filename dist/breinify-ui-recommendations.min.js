(()=>{if("object"==typeof Breinify&&!Breinify.plugins._isAdded("uiRecommendations")){let i=Breinify.UTL._jquery(),t={handle:async function(e,n){i.isPlainObject(n)&&(await this._createPayload(n.recommender),this._createActivitySettings(n),this._createSplitTestsSettings(n.splitTestControl),this._createPlaceholders(n.placeholders),this._createTemplates(n.templates))},_createTemplates:function(e){var n;return i.isPlainObject(e)?(n=Breinify.UTL.isNonEmptyString(e.container),e=Breinify.UTL.isNonEmptyString(e.item),{container:Breinify.plugins.snippetManager.getSnippet(n),item:Breinify.plugins.snippetManager.getSnippet(e)}):null},_createSplitTestsSettings:function(e){return!i.isPlainObject(e)||null===(e=Breinify.UTL.isNonEmptyString(e.selector))?null:{control:{containerSelector:e}}},_createPlaceholders:function(e){return i.isPlainObject(e)?Object.fromEntries(Object.entries(e).map(([e,n])=>[e,Breinify.plugins.snippetManager.getSnippet(n)])):null},_createActivitySettings:function(e){e=i.isPlainObject(e)?Breinify.UTL.isNonEmptyString(e.activityType):null;return{type:null===e?"clickedRecommendation":e}},_createPayload:async function(e){var n;return i.isPlainObject(e)?(n=Breinify.UTL.isNonEmptyString(e.preconfiguredRecommendation),{payload:{recommendationQueryName:e=null===(e=Breinify.UTL.isNonEmptyString(e.queryLabel))?n:e,namedRecommendations:[n]}}):null}};Breinify.plugins._add("uiRecommendations",{register:function(){},handle:function(n,e){(i.isArray(e.recommendations)?e.recommendations:[]).forEach(function(e){Promise.resolve().then(()=>t.handle(n,e)).catch(e=>{})})}})}})();