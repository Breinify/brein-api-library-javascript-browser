(()=>{if("object"==typeof Breinify&&!Breinify.plugins._isAdded("optStatus")){let o=Breinify.UTL._jquery(),a={handleError:function(n,t){o.isFunction(t)&&t(n)},validateToken:function(n,t){return"string"==typeof n&&n.trim()===n&&""!==n||(o.isFunction(t)&&t(new Error("Invalid token specified: "+n)),!1)},handleOptCodeValidation:function(n,t){o.isFunction(t)&&t(null,n)},handleOptStatusChange:function(n,t){o.isFunction(t)&&t(null,n)}};Breinify.plugins._add("optStatus",{tokens:function(){return{validateOptCode:this.getConfig("tokenValidateOptCode",null),optViaCode:this.getConfig("tokenOptViaCode",null)}},hasValidTokens:function(){var n=this.tokens().validateOptCode,t=this.tokens().optViaCode;return a.validateToken(n)&&a.validateToken(t)},isValidCode:function(n){return"string"==typeof n&&n===n.trim()&&""!==n},validateOptCode:function(n,e){var t=this.tokens().validateOptCode;a.validateToken(t,e)&&Breinify.UTL.internal.token(t,{code:n},function(n,t){null==n?a.handleOptCodeValidation(t,e):a.handleError(n,e)},3e4)},optViaCode:function(n,e,t){var i=this.tokens().optViaCode;a.validateToken(i,e)&&Breinify.UTL.internal.token(i,o.extend({code:n},t),function(n,t){null==n?a.handleOptStatusChange(t,e):a.handleError(n,e)},3e4)}})}})();