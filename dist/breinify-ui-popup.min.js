"use strict";!function(){if("object"==typeof Breinify){var a=Breinify.UTL._jquery(),b=(Breinify.plugins._overload(),Breinify.UTL.constants.errors.prefix.validation,Breinify.UTL.constants.errors.prefix.api,"breinify-popup"),c='<div class="'+b+'"><div class="'+b+'-content"><div class="'+b+'-header"><div style="display:inline-block"></div><span class="'+b+'-close">&times;</span></div><div class="'+b+'-pages"></div><div class="'+b+'-footer"></div></div></div>',d='<style id="'+b+'-style">.'+b+"{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}."+b+"-content>."+b+"-header{padding-bottom:0;min-height:16px}."+b+"-content{background-color:#fefefe;margin:15% auto;padding:0px;border:1px solid #888;width:80%}."+b+"-close{line-height:12px;vertical-align:top;color:#aaa;float:right;font-size:28px;font-weight:700}."+b+"-close:focus,."+b+"-close:hover{color:#000;text-decoration:none;cursor:pointer}."+b+"-content>div{padding:10px}."+b+"-page{border:1px solid #e7e7e7;border-radius:4px;background:#f8f8f8 none repeat scroll 0 0;padding:10px 13px}</style>",e=function(){};e.prototype.init=function(e,f){var g=this,h=a("body");this.currentPageNr=0,this.$pages=[],this.id=e,this.options=a.extend(!0,{showClose:!0,showFooter:!0,header:null,maxWidth:null,bindings:null},f),0===a("#"+b+"-style").length&&h.append(d);var i=a("#"+e);if(0===i.length){var j=a(c);j.attr("id",e),h.append(j),this.$popup=j}else this.$popup=i;var k=this.$popup.find("."+b+"-close");this.getOption("showClose",!0)===!0?(k.show(),k.click(function(){g.hide()})):k.hide();var l=this.$popup.find("."+b+"-footer");this.getOption("showFooter",!0)===!0?l.show():l.hide();var m=this.getOption("maxWidth",null);if("number"==typeof m&&(m+="px"),"string"==typeof m){var n=this.$popup.find("."+b+"-content");n.css("maxWidth",m)}this.setBindings(null),this.setHeader(null),this.id=e},e.prototype.css=function(b,c){var d=this.$popup.find(b);return d.css(a.isPlainObject(c)?c:{}),c},e.prototype.find=function(a){return this.$popup.find(a)},e.prototype.setBindings=function(b){this.bindings=a.isPlainObject(b)?b:this.getOption("bindings",{})},e.prototype.show=function(a){a=this.validatePage("number"==typeof a?a:1),this.showPage(a)},e.prototype.hide=function(b){a("html").css("marginRight","").css("overflow",""),this.$popup.hide()},e.prototype.addPage=function(c){var d=this.$popup.find("."+b+"-pages"),e=a('<div class="'+b+'-page">'+c+"</div>"),f=this.$pages.push(e);return e.attr("data-pageNr",f),e.hide(),d.append(e),e},e.prototype.showNextPage=function(){this.showPage(this.currentPageNr+1)},e.prototype.showPrevPage=function(){this.currentPageNr<=1||this.showPage(this.currentPageNr-1)},e.prototype.showPage=function(b){if(b=this.validatePage(b),0!==this.currentPageNr){var c=this.$pages[this.currentPageNr-1];this._resetBindings(c),c.hide()}if(b>0){var d=this.$pages[b-1];this._applyBindings(d),d.show()}this.currentPageNr=b,a("html").css("marginRight","15px").css("overflow","hidden"),this.$popup.show()},e.prototype._applyBindings=function(a){},e.prototype._resetBindings=function(a){},e.prototype.validatePage=function(a){return"number"==typeof a?Math.max(0,Math.min(this.$pages.length,a)):this.currentPageNr},e.prototype.setHeader=function(a){"string"!=typeof a&&(a=this.getOption("header",""));var c=this.$popup.find("."+b+"-header>div:first");c.html(a)},e.prototype.getOption=function(a,b){var c=this.options[a];return"undefined"==typeof c||null===c?b:c},Breinify.plugins._add("uiPopup",{create:function(a,b){var c=new e;return c.init(a,b),c}})}}();