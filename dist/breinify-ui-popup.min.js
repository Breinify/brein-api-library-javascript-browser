"use strict";!function(){if("object"==typeof Breinify){var a=Breinify.UTL._jquery(),b=(Breinify.plugins._overload(),Breinify.UTL.constants.errors.prefix.validation,Breinify.UTL.constants.errors.prefix.api,"breinify-popup"),c=b+"-page-load",d=b+"-page-done",e='<div class="'+b+'"><div class="'+b+'-content"><div class="'+b+'-header"><div style="display:inline-block"></div><span class="'+b+'-close">&times;</span></div><div class="'+b+'-pages"></div><div class="'+b+'-footer"></div></div></div>',f='<style id="'+b+'-style">.'+b+"{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}."+b+"-content>."+b+"-header{padding-bottom:0;min-height:16px}."+b+"-content{position:relative;background-color:#fefefe;margin:15% auto;padding:0px;border:1px solid #888;width:80%}."+b+"-close{position:absolute;right:10px;top:10px;line-height:12px;vertical-align:top;color:#aaa;float:right;font-size:28px;font-weight:700}."+b+"-close:focus,."+b+"-close:hover{color:#000;text-decoration:none;cursor:pointer}."+b+"-content>div{padding:10px}."+b+"-page{border:1px solid #e7e7e7;border-radius:4px;background:#f8f8f8 none repeat scroll 0 0;padding:10px 13px}</style>",g=function(){};g.prototype.init=function(c,d){var g=this,h=a("body");this.currentPageNr=0,this.$pages=[],this.id=c,this.options=a.extend(!0,{showClose:!0,showFooter:!0,closeOnEscape:!0,header:null,footer:null,maxWidth:null,bindings:null,onClose:null},d),0===a("#"+b+"-style").length&&h.append(f);var i=a("#"+c);if(0===i.length){var j=a(e);j.attr("id",c),h.append(j),this.$popup=j}else this.$popup=i;var k=this.$popup.find("."+b+"-close");this.getOption("showClose",!0)===!0?(k.show(),k.click(function(){g.hide()})):k.hide();var l=this.$popup.find("."+b+"-footer");this.getOption("showFooter",!0)===!0?l.show():l.hide();var m=this.getOption("maxWidth",null);if("number"==typeof m&&(m+="px"),"string"==typeof m){var n=this.$popup.find("."+b+"-content");n.css("maxWidth",m)}this.getOption("closeOnEscape",!0)===!0?(this.escHandler=function(a){27===a.keyCode&&g.hide()},a(document).bind("keyup",this.escHandler)):this.escHandler=null,this.setBindings(null),this.setHeader(null),this.setFooter(null),this.id=c},g.prototype.reset=function(b){if("number"==typeof b){var c=this.validatePage(b);this.reset(this.$pages[c])}else if("undefined"==typeof b){var d=this;a.each(this.$pages,function(a,b){d.reset(b)})}else{var e=b.find("[data-breinify-reset=true]");e.each(function(){var b=a(this),c=b.attr("data-breinify-reset-value");b.is('input[type="text"]')?b.val(c):b.is("select")?b.val(c):b.is("textarea")?b.val(c):b.is('input[type="checkbox"]')?b.prop("checked","true"===c):b.text(c)})}},g.prototype.css=function(b,c){var d=this.$popup.find(b);return d.css(a.isPlainObject(c)?c:{}),c},g.prototype.find=function(a){return this.$popup.find(a)},g.prototype.setBindings=function(b){this.bindings=a.isPlainObject(b)?b:this.getOption("bindings",{})},g.prototype.getBinding=function(a,b){var c=Breinify.UTL.getNestedByPath(this.bindings,a);return"undefined"==typeof c||null===c?b:c},g.prototype.extendBindings=function(b){this.bindings=a.extend(!0,{},this.bindings,b)},g.prototype.show=function(a){a=this.validatePage("number"==typeof a?a:1),this.showPage(a)},g.prototype.hide=function(b){a("html").css("marginRight","").css("overflow",""),a.isFunction(this.options.onClose)&&b!==!0&&this.options.onClose(this),this.reset(),this.$popup.css("display","none")},g.prototype.destroy=function(){null!==this.escHandler&&(a(document).unbind("keyup",this.escHandler),this.escHandler=null)},g.prototype.addPage=function(c,d){var e,f;if("string"==typeof c)e=c,f=!1;else{if(!a.isPlainObject(c))return null;var g="string"==typeof c.style?c.style:"",h="string"==typeof c.html?c.html:"";e=g+h,f=a.isFunction(c.init)}var i=this.$popup.find("."+b+"-pages"),j=a('<div class="'+b+'-page">'+e+"</div>"),k=this.$pages.push(j);j.attr("data-pageNr",k),j.hide();var l=j.find("[data-breinify-reset=true]");return l.each(function(){var b,c=a(this);b=c.is('input[type="text"]')?c.val():c.is("select")?c.val():c.is("textarea")?c.val():c.is('input[type="checkbox"]')?c.is(":checked"):c.text(),c.attr("data-breinify-reset-value",b)}),i.append(j),f&&c.init(this,j,a.isPlainObject(d)?d:{}),j},g.prototype.showNextPage=function(){this.showPage(this.currentPageNr+1)},g.prototype.showPrevPage=function(){this.currentPageNr>1&&this.showPage(this.currentPageNr-1)},g.prototype.showPage=function(b){if(b=this.validatePage(b),0!==this.currentPageNr){var c=this.$pages[this.currentPageNr-1];this._resetBindings(c),c.hide()}if(this.currentPageNr=b,b>0){var d=this.$pages[b-1];this._applyBindings(d),d.show()}a("html").css("marginRight","15px").css("overflow","hidden"),this.$popup.css("display","block")},g.prototype._applyBindings=function(b){var c=this,d=b.find("[data-breinify-placeholder]"),e={popup:{currentPageNr:this.currentPageNr,totalPageNr:this.$pages.length}};d.each(function(){var b,d=a(this),f=d.attr("data-breinify-placeholder");b=0===f.indexOf("popup.")?Breinify.UTL.getNestedByPath(e,f):Breinify.UTL.getNestedByPath(c.bindings,f),d.text(b)})},g.prototype._resetBindings=function(a){a.find('[data-breinify-placeholder!=""]')},g.prototype.validatePage=function(a){return"number"==typeof a?Math.max(0,Math.min(this.$pages.length,a)):this.currentPageNr},g.prototype.setHeader=function(a){"string"!=typeof a&&(a=this.getOption("header",""));var c=this.$popup.find("."+b+"-header>div:first");c.html(a)},g.prototype.setFooter=function(a){"string"!=typeof a&&(a=this.getOption("footer",""));var c=this.$popup.find("."+b+"-footer");c.html(a)},g.prototype.getOption=function(a,b){var c=this.options[a];return"undefined"==typeof c||null===c?b:c},Breinify.plugins._add("uiPopup",{pages:{load:{init:function(b,d,e){this.settings=a.extend(!0,{message:null},e);var f=a("#"+c+"-message");"string"==typeof this.settings.message&&""!==this.settings.message?f.html(this.settings.message):f.html("")},style:'<style id="'+c+'-style">.'+c+"-container { text-align: center; }."+c+"-container svg { max-width: 150px;width: 100%;padding: 1em 0; }#"+c+"-message { font-size: 1.5em;line-height: 1.5em; }#"+c+"-svg { stroke-dasharray: 150, 200;stroke-dashoffset: -10;-webkit-animation: "+c+"-dash 1.5s ease-in-out infinite, "+c+"-color 6s ease-in-out infinite;animation: "+c+"-dash 1.5s ease-in-out infinite, "+c+"-color 6s ease-in-out infinite;stroke-width: 2px;stroke: #8EC343;fill: none; }@-webkit-keyframes "+c+"-dash {    0% { stroke-dasharray: 1, 200;stroke-dashoffset: 0; }    50% { stroke-dasharray: 89, 200;stroke-dashoffset: -35; }    100% { stroke-dasharray: 89, 200;stroke-dashoffset: -150; }}@keyframes "+c+"-dash {    0% { stroke-dasharray: 1, 200;stroke-dashoffset: 0; }    50% { stroke-dasharray: 89, 200;stroke-dashoffset: -35; }    100% { stroke-dasharray: 89, 200;stroke-dashoffset: -150; }}@-webkit-keyframes "+c+"-color { 0% { stroke: #8EC343; } 100% { stroke: #8EC343; } }@keyframes "+c+"-color { 0% { stroke: #8EC343; } 100% { stroke: #8EC343; } }</style>",html:'<div class="'+c+'-container">  <svg xmlns="http://www.w3.org/2000/svg" viewBox="-263.5 236.5 26 26">    <circle id="'+c+'-svg" cx="-250.5" cy="249.5" r="12">  </svg>  <div id="'+c+'-message">  </div></div>'},success:{init:function(b,c,e){this.settings=a.extend(!0,{showCloseButton:!1,closeButtonLabel:null,message:null},e);var f=a("#"+d+"-close-button"),g="string"==typeof this.settings.closeButtonLabel&&""!==this.settings.closeButtonLabel;g===!0&&this.settings.showCloseButton===!0?(f.click(function(){b.hide()}),f.show()):f.hide(),g?f.html(this.settings.closeButtonLabel):f.html("");var h=a("#"+d+"-message");"string"==typeof this.settings.message&&""!==this.settings.message?h.html(this.settings.message):h.html("")},style:'<style id="'+d+'-style">.'+d+"-container { text-align: center; }."+d+"-container svg { max-width: 150px;width: 100%;padding: 1em 0; }#"+d+"-message { font-size: 1.5em;line-height: 1.5em; }."+d+"-container button { min-width:150px;width:50%;white-space:nowrap;cursor:pointer;line-height:25px;font-size:14px;border-radius:4px;border-color:#cccccc;background:#cccccc;color:#fff; }."+d+"-container button:disabled { cursor:not-allowed;border-color:#eeeeee;background:#cccccc; }#"+d+"-svg { stroke-width: 2px;stroke: #8EC343;fill: none; }#"+d+"-svg path { stroke-dasharray: 17px,17px;stroke-dashoffset: 0px;-webkit-animation: "+d+"-checkmark 0.25s ease-in-out 0.7s backwards;animation: "+d+"-checkmark 0.25s ease-in-out 0.7s backwards; }#"+d+"-svg circle { stroke-dasharray: 76px, 76px;stroke-dashoffset: 0pxtransform-origin: 50% 50%;-webkit-animation: "+d+"-checkmark-circle 0.6s ease-in-out forwards;animation: "+d+"-checkmark-circle 0.6s ease-in-out forwards;}@keyframes "+d+"-checkmark { 0% { stroke-dashoffset: 17px; } 100% { stroke-dashoffset: 0 } }@keyframes "+d+"-checkmark-circle { 0% { stroke-dashoffset: 76px; } 100% { stroke-dashoffset: 0px; } }</style>",html:'<div class="'+d+'-container">  <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" viewBox="-263.5 236.5 26 26">    <g id="'+d+'-svg">      <circle cx="-250.5" cy="249.5" r="12"></circle>      <path d="M-256.46 249.65l3.9 3.74 8.02-7.8"></path>    </g>  </svg>  <div>    <div id="'+d+'-message"></div>    <button id="'+d+'-close-button" class="button"></button>  </div></div>'}},create:function(a,b){var c=new g;return c.init(a,b),c}})}}();